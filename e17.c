// Дана квадратная целочисленная матрица E(n,n), n <=10. Определить в каждом столбце количество отрицательных элементов и поместить его на место соответствующего элемента главной диагонали. Если таких элементов нет, на место диагонального элемента пишется 0. Вывести на печать исходную матрицу, найденное количество для каждого столбца и полученную после подстановки матрицу. 

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main(){
	srand(time(NULL));
	int nmax=10, n;
	printf("Введите порядок матрицы: ");
	scanf("%d", &n);
	if(n<0 || n>10){
		printf("Ошибка ввода");
		return 0;}
	float A[n][n];
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			A[i][j]=rand()%21-10;}}
	printf("Исходная матрица:\n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	int a=0;
	for(int j=0; j<n; j++){
		for(int i=0; i<n; i++){
			if(A[i][j]<0){
				a++;}}
		printf("Количество отрицательных элементов, которые меньше 0 в %d-м столбце = %d\n", j+1, a);
		A[j][j]=a;
		a=0;}
	printf("Новая матрица: \n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	return 0;}

/*
#include <stdio.h>

int main() {
    int n, i, j;
    int E[10][10];  // Матрица размером максимум 10x10
    int count[10];  // Массив для подсчета отрицательных элементов в каждом столбце

    // Ввод порядка матрицы
    printf("Введите размер матрицы (n <= 10): ");
    scanf("%d", &n);

    // Ввод элементов матрицы
    printf("Введите элементы матрицы %dx%d:\n", n, n);
    for (i = 0; i < n; i++) {
        for (j = 0; j < n; j++) {
            scanf("%d", &E[i][j]);
        }
    }

    // Подсчет количества отрицательных элементов в каждом столбце
    for (j = 0; j < n; j++) {
        count[j] = 0;  // Инициализация счетчика для столбца j
        for (i = 0; i < n; i++) {
            if (E[i][j] < 0) {
                count[j]++;
            }
        }
    }

    // Подстановка количества отрицательных элементов в главную диагональ
    for (i = 0; i < n; i++) {
        E[i][i] = count[i];
    }

    // Вывод исходной матрицы
    printf("\nИсходная матрица:\n");
    for (i = 0; i < n; i++) {
        for (j = 0; j < n; j++) {
            printf("%d ", E[i][j]);
        }
        printf("\n");
    }

    // Вывод количества отрицательных элементов для каждого столбца
    printf("\nКоличество отрицательных элементов в каждом столбце:\n");
    for (i = 0; i < n; i++) {
        printf("Столбец %d: %d\n", i + 1, count[i]);
    }

    // Вывод матрицы после подстановки
    printf("\nМатрица после подстановки:\n");
    for (i = 0; i < n; i++) {
        for (j = 0; j < n; j++) {
            printf("%d ", E[i][j]);
        }
        printf("\n");
    }

    return 0;
}
*/
				
