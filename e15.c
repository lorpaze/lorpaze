//Дана квадратная целочисленная матрица G(n,n), n <= 10. Определить в каждой строке количество элементов, кратных 7 и поместить его на место, соответствующего элемента главной диагонали. Если таких элементов нет, на место диагонального элемента пишется 0. Вывести на печать исходную матрицу, найденное количество для каждой строки и полученную после перестановки матрицу.

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main(){
	srand(time(NULL));
	int nmax=10, n;
	printf("Введите порядок матрицы: ");
	scanf("%d", &n);
	if(n<0 || n>10){
		printf("Ошибка ввода");
		return 0;}
	float A[n][n];
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			A[i][j]=rand()%21-10;}}
	printf("Исходная матрица:\n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	printf("\n");
	float a = 0;
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			if((int)A[i][j]%7==0){
				a++;}}
		printf("Сумма элементов, кратных 7, в %d-й строке = %1.f\n", i+1, a); 
		A[i][i]=a;
		a=0;}
	printf("Новая матрица:\n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	return 0;}

/*
#include <stdio.h>
#define MAX_N 10
int main() {
int n;
int matrix[MAX_N][MAX_N];
int counts[MAX_N] = {0}; // Массив для хранения количества элементов, кратных 7, для каждой строки
// Ввод размера матрицы
printf("Введите размер матрицы (n x n), n <= 10: ");
scanf("%d", &n);
// Проверка корректности размера
if (n > MAX_N || n <= 0) {
printf("Некорректный размер матрицы. n должно быть от 1 до 10.\n");
return 1;
}
// Ввод элементов матрицы
printf("Введите элементы матрицы размером %d x %d:\n", n, n);
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
scanf("%d", &matrix[i][j]);
}
}
// Вывод исходной матрицы
printf("\nИсходная матрица:\n");
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
printf("%5d", matrix[i][j]);
}
printf("\n");
}
// Нахождение количества элементов, кратных 7, в каждой строке
for (int i = 0; i < n; i++) {
counts[i] = 0; // Обнуляем счётчик для текущей строки
for (int j = 0; j < n; j++) {
if (matrix[i][j] % 7 == 0) {
counts[i]++;
}
}
}
// Замена элементов на главной диагонали
for (int i = 0; i < n; i++) {
matrix[i][i] = counts[i]; // Помещаем количество элементов, кратных 7, на главную диагональ
}
// Вывод количества элементов, кратных 7, для каждой строки
printf("\nКоличество элементов, кратных 7, в каждой строке:\n");
for (int i = 0; i < n; i++) {
printf("Строка %d: %d\n", i + 1, counts[i]);
}
// Вывод матрицы после перестановки
printf("\nМатрица после перестановки:\n");
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
printf("%5d", matrix[i][j]);
}
printf("\n");
}
return 0;
}
*/

