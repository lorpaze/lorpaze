//Дана квадратная целочисленная матрица P(n,n), n <=10. Определить в каждой строке сумму отрицательных элементов и поместить её на место соответствующего элемента побочной диагонали. Если таких элементов нет, на место диагонального элемента пишется 0. вывести на печать исходную матрицу, найденную сумму для каждой строки и полученную после подстановки матрицу.

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main(){
	srand(time(NULL));
	int nmax=10, n;
	printf("Введите порядок матрицы: ");
	scanf("%d", &n);
	if(n<0 || n>10){
		printf("Ошибка ввода");
		return 0;}
	float A[n][n];
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			A[i][j]=rand()%21-10;}}
	printf("Исходная матрица:\n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	printf("\n");
	int a=0;
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			if(A[i][j]<0){
				a+=A[i][j];}}
		printf("Сумма отрицательных элементов %d-й строки: %d\n", i+1, a);
		A[i][n-1-i]=a;
		a=0;}
	printf("\nНовая матрица:\n");
	for(int i=0; i<n; i++){
		for(int j=0; j<n; j++){
			printf("%4.f ", A[i][j]);}printf("\n");}
	return 0;}

/*
#include <stdio.h>
#define MAX_N 10
int main() {
int n;
int matrix[MAX_N][MAX_N];
int sums[MAX_N] = {0}; // Массив для хранения сумм отрицательных элементов в строках
// Ввод размера матрицы
printf("Введите размер матрицы (n x n), n <= 10: ");
scanf("%d", &n);
// Проверка корректности размера
if (n > MAX_N || n <= 0) {
printf("Некорректный размер матрицы. n должно быть от 1 до 10.\n");
return 1;
}
// Ввод элементов матрицы
printf("Введите элементы матрицы размером %d x %d:\n", n, n);
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
scanf("%d", &matrix[i][j]);
}
}
// Вывод исходной матрицы
printf("\nИсходная матрица:\n");
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
printf("%5d", matrix[i][j]);
}
printf("\n");
}
// Нахождение суммы отрицательных элементов в каждой строке
for (int i = 0; i < n; i++) {
sums[i] = 0; // Обнуляем сумму для текущей строки
for (int j = 0; j < n; j++) {
if (matrix[i][j] < 0) {
sums[i] += matrix[i][j]; // Добавляем отрицательный элемент
}
}
}
// Замена элементов на побочной диагонали
for (int i = 0; i < n; i++) {
if (sums[i] == 0) {
matrix[i][n - 1 - i] = 0; // Если нет отрицательных элементов, записываем 0
} else {
matrix[i][n - 1 - i] = sums[i]; // Записываем сумму отрицательных элементов
}
}
// Вывод найденных сумм отрицательных элементов
printf("\nСуммы отрицательных элементов в каждой строке:\n");
for (int i = 0; i < n; i++) {
printf("Строка %d: %d\n", i + 1, sums[i]);
}
// Вывод матрицы после подстановки
printf("\nМатрица после подстановки:\n");
for (int i = 0; i < n; i++) {
for (int j = 0; j < n; j++) {
printf("%5d", matrix[i][j]);
}
printf("\n");
}
return 0;
}

*/
